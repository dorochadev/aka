package launcher

import (
	"fmt"
	"runtime"
)

// GenerateScript creates the launcher script content for the given application
func GenerateScript(appName string) string {
	cmd := getPlatformCommand(appName)
	return fmt.Sprintf(`#!/bin/sh
# Generated by aka - launcher for %s
%s
`, appName, cmd)
}

func getPlatformCommand(appName string) string {
	switch runtime.GOOS {
	case "darwin":
		return fmt.Sprintf(`open -a "%s" "$@"`, appName)
	case "linux":
		// For Linux, we'll use xdg-open with the application name
		// This is a simplified approach; more sophisticated handling could be added
		return fmt.Sprintf(`xdg-open "$@" || echo "Error: Could not open with %s"`, appName)
	default:
		return fmt.Sprintf(`echo "Unsupported platform: %s"`, runtime.GOOS)
	}
}
